<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>项目构建 | TomorrowLM-Web</title><meta name="keywords" content="webpack,git,npm,规范"><meta name="author" content="LMTomorrow,120329698@qq.com"><meta name="copyright" content="LMTomorrow"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="项目构建的一系列工具">
<meta property="og:type" content="article">
<meta property="og:title" content="项目构建">
<meta property="og:url" content="https://tomorrowlm.github.io/2020/09/25/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/index.html">
<meta property="og:site_name" content="TomorrowLM-Web">
<meta property="og:description" content="项目构建的一系列工具">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg">
<meta property="article:published_time" content="2020-09-24T16:00:00.000Z">
<meta property="article:modified_time" content="2021-11-14T10:02:31.046Z">
<meta property="article:author" content="LMTomorrow">
<meta property="article:tag" content="webpack">
<meta property="article:tag" content="git">
<meta property="article:tag" content="npm">
<meta property="article:tag" content="规范">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://tomorrowlm.github.io/2020/09/25/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '项目构建',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-11-14 18:02:31'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">#toggle-sidebar {left:100px}</style><link rel="stylesheet" href="/css/custom.css"></link><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiperstyle.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-filter-gitcalendar/lib/gitcalendar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/touxiang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">TomorrowLM-Web</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">项目构建</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-24T16:00:00.000Z" title="发表于 2020-09-25 00:00:00">2020-09-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-11-14T10:02:31.046Z" title="更新于 2021-11-14 18:02:31">2021-11-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA/">项目构建</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>43分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="项目构建"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="网站搭建"><a href="#网站搭建" class="headerlink" title="网站搭建"></a>网站搭建</h1><h2 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h2><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6887135998099062792">https://juejin.cn/post/6887135998099062792</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Charissa2017/article/details/105886521">https://blog.csdn.net/Charissa2017/article/details/105886521</a></p>
<p>nginx命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">nginx 							<span class="comment">#打开 nginx</span></span><br><span class="line">nginx -t   				        <span class="comment">#测试配置文件是否有语法错误</span></span><br><span class="line">nginx -s reopen					<span class="comment">#重启Nginx</span></span><br><span class="line">nginx -s reload					<span class="comment">#重新加载Nginx配置文件，然后以优雅的方式重启Nginx</span></span><br><span class="line">nginx -s stop  					<span class="comment">#强制停止Nginx服务</span></span><br><span class="line">nginx -s quit  					<span class="comment">#停止Nginx服务（即处理完所有请求后再停止服务）</span></span><br><span class="line"></span><br><span class="line">nginx [-?hvVtq] [-s signal] [-c filename] [-p prefix] [-g directives]</span><br><span class="line"></span><br><span class="line">-?,-h           : 打开帮助信息</span><br><span class="line">-v              : 显示版本信息并退出</span><br><span class="line">-V              : 显示版本和配置选项信息，然后退出</span><br><span class="line">-t              : 检测配置文件是否有语法错误，然后退出</span><br><span class="line">-q              : 在检测配置文件期间屏蔽非错误信息</span><br><span class="line">-s signal       : 给一个 nginx 主进程发送信号：stop（强制停止）, quit（优雅退出）, reopen（重启）, reload（重新加载配置文件）</span><br><span class="line">-p prefix       : 设置前缀路径（默认是：/usr/share/nginx/）</span><br><span class="line">-c filename     : 设置配置文件（默认是：/etc/nginx/nginx.conf）</span><br><span class="line">-g directives   : 设置配置文件外的全局指令</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/run 		nginx.pid</span><br><span class="line">/etc/nginx 	nginx配置</span><br><span class="line">/root 		页面</span><br><span class="line">/var/log/nginx/access.log 	报错信息</span><br></pre></td></tr></table></figure>

<p>tip:</p>
<ul>
<li><p>nginx: [error] open() “/run/nginx.pid” failed (2: No such file or directory)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -c /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="PM2"><a href="#PM2" class="headerlink" title="PM2"></a>PM2</h2><p>PM2是node进程管理工具，可以利用它来简化很多node应用管理的繁琐任务，如性能监控、自动重启、负载均衡等，而且使用非常简单。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">用法</span><br><span class="line">$ npm install pm2 -g     # 命令行安装 pm2 </span><br><span class="line">$ pm2 start app.js -i 4 #后台运行pm2，启动4个app.js </span><br><span class="line">                                # 也可以把&#x27;max&#x27; 参数传递给 start</span><br><span class="line">                                # 正确的进程数目依赖于Cpu的核心数目</span><br><span class="line">$ pm2 start app.js --name my-api # 命名进程</span><br><span class="line">$ pm2 list               # 显示所有进程状态</span><br><span class="line">$ pm2 monit              # 监视所有进程</span><br><span class="line">$ pm2 logs               #  显示所有进程日志</span><br><span class="line">$ pm2 stop all           # 停止所有进程</span><br><span class="line">$ pm2 restart all        # 重启所有进程</span><br><span class="line">$ pm2 reload all         # 0秒停机重载进程 (用于 NETWORKED 进程)</span><br><span class="line">$ pm2 stop 0             # 停止指定的进程</span><br><span class="line">$ pm2 restart 0          # 重启指定的进程</span><br><span class="line">$ pm2 startup            # 产生 init 脚本 保持进程活着</span><br><span class="line">$ pm2 web                # 运行健壮的 computer API endpoint (http://localhost:9615)</span><br><span class="line">$ pm2 delete 0           # 杀死指定的进程</span><br><span class="line">$ pm2 delete all         # 杀死全部进程</span><br></pre></td></tr></table></figure>

<h2 id="express"><a href="#express" class="headerlink" title="express"></a>express</h2><p><a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/50775.html">https://help.aliyun.com/document_detail/50775.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/175558881f19">https://www.jianshu.com/p/175558881f19</a></p>
<h1 id="前端⼯程化"><a href="#前端⼯程化" class="headerlink" title="前端⼯程化"></a><strong>前端⼯程化</strong></h1><h2 id="JS模块规范"><a href="#JS模块规范" class="headerlink" title="JS模块规范"></a>JS模块规范</h2><h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>是一种为JS的表现指定的规范，它希望js可以运行在任何地方，更多的说的是服务端模块规范，Node.js采用了这个规范。</p>
<p>核心思想：<br>允许模块通过 <code>require</code> 方法来同步加载所要依赖的其他模块，然后通过 <code>exports</code> 或 <code>module.exports</code> 来导出需要暴露的接口。</p>
<p><strong>优点：</strong>服务器端模块重用，NPM中模块包多，有将近20万个。</p>
<p><strong>缺点：</strong>加载模块是<strong>同步</strong>的，只有加载完成后才能执行后面的操作，也就是当要用到该模块了，现加载现用，不仅加载速度慢，而且还会导致性能、可用性、调试和跨域访问等问题。Node.js主要用于服务器编程，加载的模块文件一般都存在本地硬盘，加载起来比较快，不用考虑异步加载的方式，因此,CommonJS规范比较适用。然而，这并不适合在浏览器环境，同步意味着阻塞加载，浏览器资源是异步加载的，因此有了AMD CMD解决方案。</p>
<p><strong>实现</strong>：</p>
<ul>
<li>服务器端的 <a target="_blank" rel="noopener" href="http://www.nodejs.org/">Node.js</a></li>
<li><a target="_blank" rel="noopener" href="http://browserify.org/">Browserify</a>，浏览器端的 CommonJS 实现，可以使用 NPM 的模块，但是编译打包后的文件体积可能很大</li>
<li><a target="_blank" rel="noopener" href="https://github.com/medikoo/modules-webmake">modules-webmake</a>，类似Browserify，还不如 Browserify 灵活</li>
<li><a target="_blank" rel="noopener" href="https://github.com/substack/wreq">wreq</a>，Browserify 的前身</li>
</ul>
<h3 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a><strong>AMD</strong></h3><p>鉴于浏览器的特殊情况，又出现了一个规范，这个规范呢可以实现异步加载依赖模块，并且会提前加载那就是AMD规范。</p>
<p><strong>其核心接口是</strong>：define(id, 『dependencies』, factory) ，它要在声明模块的时候指定所有的依赖 dependencies ，并且还要当做形参传到factory 中，对于依赖的模块<strong>提前执行</strong>，<strong>依赖前置</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">&quot;module&quot;</span>, [<span class="string">&quot;dep1&quot;</span>, <span class="string">&quot;dep2&quot;</span>], <span class="function"><span class="keyword">function</span>(<span class="params">d1, d2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> someExportedValue;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">require</span>([<span class="string">&quot;module&quot;</span>, <span class="string">&quot;../file&quot;</span>], <span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, file</span>) </span>&#123; <span class="comment">/* ... */</span> &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>优点：</strong>在浏览器环境中异步加载模块；并行加载多个模块；</p>
<p><strong>缺点：</strong>开发成本高，代码的阅读和书写比较困难，模块定义方式的语义不顺畅；不符合通用的模块化思维方式，是一种妥协的实现；</p>
<h3 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a><strong>CMD</strong></h3><p>Common Module Definition 规范和 AMD 很相似，尽量保持简单，并与 CommonJS 和 Node.js 的 Modules 规范保持了很大的兼容性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">define(function(require, exports, module) &#123;</span><br><span class="line">  var $ = require(&#x27;jquery&#x27;);</span><br><span class="line">  var Spinning = require(&#x27;./spinning&#x27;);</span><br><span class="line">  exports.doSomething = ...</span><br><span class="line">  module.exports = ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>优点：依赖就近，延迟执行</strong>（对于依赖的模块延迟执行，即只在需要用到某个模块的时候再require） 可以很容易在 Node.js 中运行；<br><strong>缺点：</strong>依赖 SPM 打包，模块的加载逻辑偏重；<br><strong>实现：Sea.js</strong> ；coolie</p>
<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a><strong>ES6</strong></h3><p>ECMAScript6 标准增加了 JavaScript 语言层面的模块体系定义。<a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/#docs/module">ES6 模块</a>的设计思想，是尽量的静态化，使得<strong>编译</strong>时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS 和 AMD 模块，都只能在运行时确定这些东西。<strong>但是由于ES6目前无法在浏览器中执行，所以，我们只能通过babel将不被支持的import编译为当前受到广泛支持的 require</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;jquery&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">doStuff</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">module</span> <span class="string">&quot;localModule&quot;</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>优点：</p>
<ul>
<li>容易进行静态分析</li>
<li>面向未来的 ECMAScript 标准</li>
</ul>
<p>缺点：</p>
<ul>
<li>原生浏览器端还没有实现该标准</li>
<li>全新的命令字，新版的 Node.js才支持</li>
</ul>
<h3 id="模块包的导入导出"><a href="#模块包的导入导出" class="headerlink" title="模块包的导入导出"></a>模块包的导入导出</h3><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/1wUU-i3W4RlR2hf86lZqEA">https://mp.weixin.qq.com/s/1wUU-i3W4RlR2hf86lZqEA</a></p>
<h4 id="CommonJS-1"><a href="#CommonJS-1" class="headerlink" title="CommonJS"></a>CommonJS</h4><h4 id="ES6-Module"><a href="#ES6-Module" class="headerlink" title="ES6 Module"></a>ES6 Module</h4><h5 id="导出"><a href="#导出" class="headerlink" title="导出"></a>导出</h5><p>在ES6 Module 中，导出用到了关键字 <code>export</code> ，导出的方式也大致分为两种，分别是<strong>命名导出</strong> 、<strong>默认导出</strong></p>
<p><strong>第一种：</strong> 命名导出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// B.js</span></span><br><span class="line"><span class="comment">/*--------  单个变量或函数导出  ----------*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;show方法被调用&#x27;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> count = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*--------  批量导出  ----------*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;show方法被调用&#x27;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;show, count&#125;</span><br></pre></td></tr></table></figure>

<p>上述代码分了两种情况，且这两种写法是等价的</p>
<p>第一种是单个的变量或函数导出，只需要直接在开头使用 <code>export</code> 关键字即可；</p>
<p>第二种情况是批量地把多个变量或函数导出，只需要把它们储存到一个对象中即可</p>
<p><strong>第二种：</strong> 默认导出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// B.js</span><br><span class="line">function show() &#123; console.log(&#x27;show方法被调用&#x27;) &#125;</span><br><span class="line"></span><br><span class="line">// 命名导出变量count</span><br><span class="line">export let count = 3</span><br><span class="line"></span><br><span class="line">// 默认导出函数show</span><br><span class="line">export default show</span><br></pre></td></tr></table></figure>

<p>默认导出是在 <code>export</code> 关键词后面再跟上一个 <code>default</code> 表示导出的该变量或函数是匿名的</p>
<blockquote>
<p><strong>注意：</strong> 一个模块只能默认导出一次，否则就会报错，具体原因会在后面讲解</p>
</blockquote>
<h5 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h5><p>ES6 Module 的导入用到的关键字是 <code>import</code> ，具体代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;show, count&#125; <span class="keyword">from</span> <span class="string">&#x27;./B.js&#x27;</span></span><br><span class="line"></span><br><span class="line">show()   <span class="comment">// show方法被调用</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(count)  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ES6 Module的导入需要用一对 <code>&#123;&#125;</code> 大括号来接收我们需要导入的方法或函数</p>
<blockquote>
<p><strong>注意：</strong> 大括号中的变量或函数名必须与导出时的名称一模一样</p>
</blockquote>
<p>那么如果我们想修改导入的变量或函数的名称，可以通过 <code>as</code> 关键词来命名，代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;show <span class="keyword">as</span> print, count <span class="keyword">as</span> number&#125; <span class="keyword">from</span> <span class="string">&#x27;./B.js&#x27;</span></span><br><span class="line"></span><br><span class="line">print()   <span class="comment">// show方法被调用</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(number)  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>如果我们要想将所有的变量或函数都导入，可以通过 <code>*</code> 来整体导入，代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> bModule <span class="keyword">from</span> <span class="string">&#x27;./B.js&#x27;</span></span><br><span class="line"></span><br><span class="line">bModule.show()  <span class="comment">// show方法被调用</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bModule.count)  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><code>*</code> 表示全部的意思，我们将其全部导入，并赋值给 <code>bModule</code>，这样我们就可以通过 <code>bModule</code> 获取想要的变量或对象了</p>
<p>以上所说的都是针对命名导出的变量或函数，那么如何导入一个默认导出的变量或函数呢？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将通过 export default 导出的变量导入</span></span><br><span class="line"><span class="keyword">import</span> print <span class="keyword">from</span> <span class="string">&#x27;./B.js&#x27;</span></span><br><span class="line"></span><br><span class="line">print()  <span class="comment">// show方法被调用</span></span><br></pre></td></tr></table></figure>

<p>命名导出的变量都是通过 <code>&#123;&#125;</code> 来接收的，那么去掉 <code>&#123;&#125;</code> ，接收的就是默认导出的变量了，因为导出的变量是匿名的，因此我们可以随意地起个变量名用于接收</p>
<p><strong>补充：</strong> 这里特别提一下，与CommonJS不同，ES6 Module 的导入文件路径是不支持表达式的.</p>
<h4 id="CommonJS-与ES6的区别"><a href="#CommonJS-与ES6的区别" class="headerlink" title="CommonJS 与ES6的区别"></a>CommonJS 与ES6的区别</h4><p>这两者的主要区别主要有以下两点：</p>
<ol>
<li>对于模块的依赖，CommonJS是<strong>动态的</strong>，ES6 Module 是<strong>静态的</strong></li>
<li>CommonJS导入的是值的<strong>拷贝</strong>，ES6 Module导入的是值的<strong>引用</strong></li>
</ol>
<h5 id="区别一"><a href="#区别一" class="headerlink" title="区别一"></a>区别一</h5><p>对于模块的依赖，何为<strong>动态</strong>？何为<strong>静态</strong>？</p>
<p>动态是指对于模块的依赖关系建立在代码执行阶段；静态是指对于模块的依赖关系建立在代码编译阶段；</p>
<p>上文提到，CommonJS导入时，<code>require</code> 的路径参数是支持表达式的，例如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// A.js</span><br><span class="line">let fileName = &#x27;example.js&#x27;</span><br><span class="line">const bModule = require(&#x27;./&#x27; + fileName)</span><br></pre></td></tr></table></figure>

<p>因为该路径在代码执行时是可以动态改变的，所以如果在代码编译阶段就建立各个模块的依赖关系，那么一定是不准确的，只有在代码运行了以后，才可以真正确认模块的依赖关系，因此说CommonJS是动态的。</p>
<p>那么现在你也应该也知道为什么 ES6 Module 是静态的了吧</p>
<h5 id="区别二"><a href="#区别二" class="headerlink" title="区别二"></a>区别二</h5><p>为了验证这一点，我准备用实例来演示一下</p>
<p>首先来验证CommonJS，代码如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// B.js</span><br><span class="line">let count = 3</span><br><span class="line"></span><br><span class="line">function change() &#123;</span><br><span class="line">    count ++    // 变量count + 1</span><br><span class="line">    console.log(&#x27;原count值为：&#x27;, count);  // 打印B.js模块中count的值</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    count,</span><br><span class="line">    change</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// A.js</span><br><span class="line">let count = require(&#x27;./B.js&#x27;).count </span><br><span class="line">let change = require(&#x27;./B.js&#x27;).change</span><br><span class="line"></span><br><span class="line">console.log(&#x27;改变前：&#x27;, count);   </span><br><span class="line">change()     // 调用模块B.js中的change方法，将原来的count + 1</span><br><span class="line">console.log(&#x27;改变后：&#x27;, count); </span><br><span class="line"></span><br><span class="line">// 运行A.js文件的结果</span><br><span class="line">改变前：3</span><br><span class="line">原count值为：4</span><br><span class="line">改变后：3</span><br></pre></td></tr></table></figure>

<p>在上述代码中我们可以看到，在 <code>A.js</code> 文件中导入了 <code>B.js</code> 文件中的变量 <code>count</code> 和 函数 <code>change</code>，因为导入的 <code>count</code> 只是对原有值的一个拷贝，因此尽管我们调用了函数 <code>change</code> 改变了 <code>B.js</code> 文件中变量 <code>count</code> 的值，也不会影响到 <code>A.js</code> 文件中的变量 <code>count</code></p>
<p>根据这个结果得出结论：CommonJS导入的变量是对原值的拷贝</p>
<h2 id="构建工具"><a href="#构建工具" class="headerlink" title="构建工具"></a>构建工具</h2><h3 id="构建历史"><a href="#构建历史" class="headerlink" title="构建历史"></a>构建历史</h3><p><img src="img/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%9E%84%E5%BB%BA%E5%8E%86%E5%8F%B2.webp" alt="构建历史"></p>
<p>前端模块化/构建工具从最开始的基于浏览器<strong>运行时</strong>加载的 <code>RequireJs/Sea.js</code> 到将所有资源组装依赖打包 <code>webpack</code>/<code>rollup</code>/<code>parcel</code>的<code>bundle</code>类模块化构建工具，再到现在的<code>bundleless</code>基于浏览器原生 ES 模块的 <code>snowpack</code>/<code>vite</code>，前端的模块化/构建工具发展到现在已经快 10 年了。</p>
<ul>
<li><p> Grunt</p>
</li>
<li><p>browserify</p>
<p><code>browserify</code>致力于在浏览器端使用<code>CommonJs</code>，他使用跟 <code>NodeJs</code> 一样的模块化语法，然后将所有依赖文件编译到一个<code>bundle</code>文件，在浏览器通过<code>&lt;script&gt;</code>标签使用的，并且支持 npm 库。</p>
</li>
<li><p>Gulp</p>
</li>
<li><p>webpack</p>
<p><code>webpack1</code>支持<code>CommonJs</code>和<code>AMD</code>模块化系统，优化依赖关系，支持分包，支持多种类型 script、image、file、css/less/sass/stylus、mocha/eslint/jshint 的打包，丰富的插件体系。<code>webpack</code>的概念更偏向于工程化</p>
<p>以上的 3 个库 <code>Grunt/Gulp/browserify</code> 都是偏向于工具，而 <code>webpack</code>将以上功能都集成到一起，相比于工具它的功能大而全。</p>
</li>
<li><p>rollup</p>
<p><code>rollup</code>编译<code>ES6</code>模块，提出了<code>Tree-shaking</code>，根据<code>ES module</code>静态语法特性，删除未被实际使用的代码，支持导出多种规范语法，并且导出的代码非常简洁，如果看过 <code>vue</code> 的<code>dist</code> 目录代码就知道导出的 <code>vue</code> 代码完全不影响阅读。</p>
<p><code>rollup</code>的插件系统支持：<code>babel</code>、<code>CommonJs</code>、<code>terser</code>、<code>typescript</code>等功能。</p>
<p>相比于<code>browserify</code>的<code>CommonJs</code>，<code>rollup</code>专注于<code>ES module</code>。<br>相比于<code>webpack</code>大而全的前端工程化，<code>rollup</code>专注于纯<code>javascript</code>，大多被用作打包<code>tool</code>工具或<code>library</code>库。</p>
<p>react、vue 等库都使用<code>rollup</code>打包项目，并且下面说到的<code>vite</code>也依赖<code>rollup</code>用作生产环境打包 js。</p>
</li>
<li><p>snowpack 和 vite</p>
<p>因为 <code>snowpack</code> 和 <code>vite</code> 比较类似，都是<code>bundleless</code>所以一起拿来说。<code>bundleless</code>类运行时打包工具的启动速度是毫秒级的，因为不需要打包任何内容，只需要起两个<code>server</code>，一个用于页面加载，另一个用于<code>HMR</code>的<code>WebSocket</code>，当浏览器发出原生的<code>ES module</code>请求，<code>server</code>收到请求只需编译当前文件后返回给浏览器不需要管依赖。<code>bundleless</code>工具在<strong>生产环境</strong>打包的时候依然<code>bundle</code>构建所以依赖视图的方式，vite 是利用 <code>rollup</code> 打包生产环境的 js 的。</p>
</li>
</ul>
<h3 id="webpack和gulp的区别"><a href="#webpack和gulp的区别" class="headerlink" title="webpack和gulp的区别"></a>webpack和gulp的区别</h3><h4 id="webpack打包工具定义"><a href="#webpack打包工具定义" class="headerlink" title="webpack打包工具定义"></a>webpack打包工具定义</h4><p>webpack是一个前端模块化方案，更侧重模块打包，我们可以把开发中的所有资源（图片、js文件、css文件等）都看成模块，通过loader（加载器）和plugins（插件）对资源进行处理，打包成符合生产环境部署的前端资源。</p>
<p><strong>网页中常见的静态资源</strong></p>
<p><strong>js</strong>–js，jax，coffee，ts(TypeScript,需要编译为js)</p>
<p><strong>css</strong>– css,less,sass</p>
<p><strong>image</strong>–jpg,png,gif,bmp,svg</p>
<p><strong>字体文件(Fonts)</strong>–svg,ttf,eot,woff,woff2</p>
<p><strong>模板文件</strong>–ejs,jade,vue(这是在webpack中定义的组件的方式)</p>
<p><img src="https://zhaoda.net/webpack-handbook/images/what-is-webpack.png" alt="什么是webpack"></p>
<h4 id="gulp构建工具定义"><a href="#gulp构建工具定义" class="headerlink" title="gulp构建工具定义"></a>gulp构建工具定义</h4><p>gulp强调的是前端开发的工作流程，我们可以通过配置一系列的task，定义task处理的事务（例如文件压缩合并、雪碧图、启动server、版本控制等），然后定义执行顺序，来让gulp执行这些task，从而构建项目的整个前端开发流程。</p>
<h4 id="相同功能"><a href="#相同功能" class="headerlink" title="相同功能"></a>相同功能</h4><table>
<thead>
<tr>
<th>功能</th>
<th>gulp</th>
<th>webpack</th>
</tr>
</thead>
<tbody><tr>
<td>文件合并与压缩（css）</td>
<td>使用gulp-minify-css模块 gulp.task(‘sass’,function(){    gulp.src(cssFiles)    .pipe(sass().on(‘error’,sass.logError))    .pipe(require(‘gulp-minify-css’)())    .pipe(gulp.dest(distFolder)); });</td>
<td>样式合并一般用到extract-text-webpack-plugin插件， 压缩则使用webpack.optimize.UglifyJsPlugin。</td>
</tr>
<tr>
<td>文件合并与压缩（js）</td>
<td>使用gulp-uglify和gulp-concat两个模块</td>
<td>js合并在模块化开始就已经做， 压缩则使用webpack.optimize.UglifyJsPlugin</td>
</tr>
<tr>
<td>sass/less预编译</td>
<td>使用gulp-sass/gulp-less 模块</td>
<td>sass-loader/less-loader 进行预处理</td>
</tr>
<tr>
<td>启动server</td>
<td>使用gulp-webserver模块 var webserver =require(‘gulp-webserver’); gulp.task(‘webserver’,function(){    gulp.src(‘./‘)    .pipe(webserver({      host:’localhost’,      port:8080,      livereload:true, //自动刷新      directoryListing:{         enable: true,         path:’./‘      },    })); });</td>
<td>使用webpack-dev-server模块 module.exports = {    ……    devServer: {      contentBase: “build/“,      port:8080,      inline: true //实时刷新    } }</td>
</tr>
<tr>
<td>版本控制</td>
<td>使用gulp-rev和gulp-rev-collector两个模块</td>
<td>将生成文件加上hash值 module.exports = {    ……   output: {     ……     filename: “[name].[hash:8].js”   },    plugins:[      ……      new ExtractTextPlugin(style.[hash].css”)    ] }</td>
</tr>
</tbody></table>
<h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul>
<li><p>gulp严格上讲，模块化不是他强调的东西，他旨在规范前端开发流程。</p>
</li>
<li><p>webpack更是明显强调模块化开发，而那些文件压缩合并、预处理等功能，不过是他附带的功能。</p>
</li>
<li><p>Webpack 可以做到按需加载。像 Grunt、Gulp 这类构建工具，打包的思路是：遍历源文件→匹配规则→打包，这个过程中做不到按需加载，即对于打包起来的资源，到底页面用不用，打包过程中是不关心的。Webpack 跟其他构建工具本质上不同之处在于：Webpack 是从入口文件开始，经过模块依赖加载、分析和打包三个流程完成项目的构建。在加载、分析和打包的三个过程中，可以针对性的做一些解决方案，达到按需加载的目的，比如code split（拆分公共代码等）。</p>
</li>
</ul>
<h3 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>⾸先我们通过⼀个制作⼀个打包⽂件的原型。</p>
<p>假设有两个js模块，这⾥我们先假设这两个模块是复合commomjs标准的es5模块。</p>
<p>我们的⽬的是将这两个模块打包为⼀个能在浏览器端运⾏的⽂件，这个⽂件其实叫bundle.js。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="built_in">require</span>(<span class="string">&#x27;add.js&#x27;</span>).default</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span> , <span class="number">2</span>))</span><br><span class="line"><span class="comment">// add.js</span></span><br><span class="line"><span class="built_in">exports</span>.default = <span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>) </span>&#123;<span class="keyword">return</span> a + b&#125;</span><br></pre></td></tr></table></figure>

<p>浏览器中直接执⾏这个程序肯定会有问题 最主要的问题是<strong>浏览器中没有exports对象与require⽅法</strong>所以⼀定</p>
<p>会报错。我们需要通过<strong>模拟</strong>exports对象和require⽅法</p>
<p><strong>模拟exports对象</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span> = &#123;&#125;</span><br><span class="line"><span class="built_in">eval</span>(<span class="string">&#x27;exports.default = function(a,b) &#123;return a + b&#125;&#x27;</span>) <span class="comment">// node⽂件读取后的代码字符串</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">exports</span>.default(<span class="number">1</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<p> 由于⼦模块中会声明变量，为了不污染全局我们使⽤⼀个⾃运⾏函数来封装⼀下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">exports</span> = &#123;&#125;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">exports</span>, code</span>) </span>&#123;</span><br><span class="line"> <span class="built_in">eval</span>(code)</span><br><span class="line">&#125;)(<span class="built_in">exports</span>, <span class="string">&#x27;exports.default = function(a,b)&#123;return a + b&#125;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>模拟require函数,返回export对象</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">require</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> <span class="built_in">exports</span> = &#123;&#125;;</span><br><span class="line"> (<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">exports</span>, code</span>) </span>&#123;</span><br><span class="line"> <span class="built_in">eval</span>(code)</span><br><span class="line"> &#125;)(<span class="built_in">exports</span>, <span class="string">&#x27;exports.default = function(a,b)&#123;return a + b&#125;&#x27;</span>)</span><br><span class="line"> <span class="keyword">return</span> <span class="built_in">exports</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> add = <span class="built_in">require</span>(<span class="string">&#x27;add.js&#x27;</span>).default</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span> , <span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>将所有模块的⽂件名和代码字符串整理为⼀张key-value表就可以根据传⼊的⽂件名加载不同的模块了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">list</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">require</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">exports</span> = &#123;&#125;;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">exports</span>, code</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">eval</span>(code);</span><br><span class="line">    &#125;)(<span class="built_in">exports</span>, list[file]);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">exports</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">&quot;index.js&quot;</span>);</span><br><span class="line">&#125;)(&#123;</span><br><span class="line">  <span class="string">&quot;index.js&quot;</span>: <span class="string">`</span></span><br><span class="line"><span class="string">    var add = require(&#x27;add.js&#x27;).default</span></span><br><span class="line"><span class="string">    console.log(add(1 , 2))</span></span><br><span class="line"><span class="string">    `</span>,</span><br><span class="line">  <span class="string">&quot;add.js&quot;</span>: <span class="string">`exports.default = function(a,b)&#123;return a + b&#125;`</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h4><h5 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h5><h6 id="webpack-1"><a href="#webpack-1" class="headerlink" title="webpack"></a><strong>webpack</strong></h6><p>一个模块打包器，根据entry指示webpack应该使用哪个模块，来作为构建其内部依赖图的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。<br>每个依赖项随即被处理，最后输出到output字段指定的文件中</p>
<h6 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a><strong>webpack-dev-server</strong></h6><p>webpack-dev-server：一个服务器插件，相当于webpack+apache，启动一个web服务并实时更新修改<br><strong>启动webpack-dev-server后，在目标文件夹中是看不到编译后的文件的，实时编译后的文件都保存到了内存当中。</strong></p>
<p><strong>区别</strong></p>
<ul>
<li>webpack不会实时更新修改，就只是一个打包工具，webpack-dev-server会实时自动更新修改</li>
<li>webpack打包输出路径，output字段为path，webpack-dev-server打包输出路径，output字段为publicPath(此值为空时默认是项目根目录，  contentBase:’src’,//指定托管的根目录)</li>
<li>webpack打包输出的文件，是真的存在于物理地址path中，而webpack-dev-server打包输出的文件，是保存在内存中的，在项目目录中是找不到的。</li>
</ul>
<h6 id="html-webpack-plugin"><a href="#html-webpack-plugin" class="headerlink" title="html-webpack-plugin"></a>html-webpack-plugin</h6><p>webpack-dev-server实现了自动编译刷新浏览器，让编译出来的bundle.js托关于服务器根路径（电脑内存）中去。</p>
<p>html-webpack-plugin会创建一个在内存中生成一个html的插件，帮我们自动引入在内存中打包好的bundle.js文件</p>
<h5 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h5><p><strong>webpack默认只能打包处理 JS类型的文件，无法处理其他的非JS类型的文件</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//loader加载器模块配置</span></span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">  <span class="attr">rules</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,<span class="comment">//使用正则匹配</span></span><br><span class="line">      use: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],<span class="comment">//从后往前调用的</span></span><br><span class="line">    &#125;, <span class="comment">//如果想要启用 CSS 模块化，可以为 css-loader 添加 modules 参数即可</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/(\.jsx|\.js)$/</span>,</span><br><span class="line">      use: [<span class="string">&quot;babel-loader?cacheDirectory&quot;</span>],</span><br><span class="line">      <span class="attr">include</span>: path.resolve(__dirname, <span class="string">&quot;./src&quot;</span>),</span><br><span class="line">      <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>babel-loader: 负责 es6 语法转化</li>
<li>babel-preset-env: 包含 es6、7 等版本的语法转化规则</li>
</ul>
<h5 id="编译优化"><a href="#编译优化" class="headerlink" title="编译优化"></a>编译优化</h5><p><a target="_blank" rel="noopener" href="https://jelly.jd.com/article/61179aa26bea510187770aa3">https://jelly.jd.com/article/61179aa26bea510187770aa3</a></p>
<h6 id="编译进度和依赖包大小"><a href="#编译进度和依赖包大小" class="headerlink" title="编译进度和依赖包大小"></a>编译进度和依赖包大小</h6><p><code>webpack-bundle-analyzer</code>可以帮助我们分析打包后的依赖包大小，<code>webpackbar</code>提供了友好的编译进度提示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D webpackbar webpack-bundle-analyzer</span><br></pre></td></tr></table></figure>

<p>加入配置文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; BundleAnalyzerPlugin &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-bundle-analyzer&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> BundleAnalyzerPlugin(),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// webpack.base.js</span><br><span class="line">const WebpackBar = require(&#x27;webpackbar&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  // ...</span><br><span class="line">  plugins: [</span><br><span class="line">    new WebpackBar(),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="编译速度分析"><a href="#编译速度分析" class="headerlink" title="编译速度分析"></a>编译速度分析</h6><p>优化 webpack 构建速度，首先需要知道是哪些插件、哪些 loader 耗时长，方便我们针对性的优化。通过 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/speed-measure-webpack-plugin">speed-measure-webpack-plugin </a>插件进行构建速度分析，可以看到各个 loader、plugin 的构建时长，后续可针对耗时 loader、plugin 进行优化。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D speed-measure-webpack-plugin</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//webpack.base.js</span><br><span class="line">const SpeedMeasurePlugin = require(&quot;speed-measure-webpack-plugin&quot;);</span><br><span class="line">const smp = new SpeedMeasurePlugin();</span><br><span class="line">module.exports = smp.wrap(&#123;</span><br><span class="line">  // ...webpack config...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h6><p>通过配置 <a target="_blank" rel="noopener" href="https://webpack.docschina.org/configuration/cache/#root">webpack 持久化缓存 </a><code>cache: filesystem</code>，来缓存生成的 webpack 模块和 chunk，改善构建速度。</p>
<p>简单来说，通过 <code>cache: filesystem</code> 可以将构建过程的 webpack 模板进行缓存，大幅提升二次构建速度、打包速度，当构建突然中断，二次进行构建时，可以直接从缓存中拉取，可提速 <strong>90%</strong> 左右。</p>
<p><code>webpack.common.js</code> 配置方式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    cache: &#123;</span><br><span class="line">      type: &#x27;filesystem&#x27;, // 使用文件缓存</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//css压缩</span></span><br><span class="line"><span class="keyword">const</span> OptimizeCss = <span class="built_in">require</span>(<span class="string">&quot;optimize-css-assets-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="comment">//压缩js文件</span></span><br><span class="line"><span class="keyword">const</span> UglifyJsPlugin = <span class="built_in">require</span>(<span class="string">&quot;uglifyjs-webpack-plugin&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="项目构建"><a href="#项目构建" class="headerlink" title="项目构建"></a>项目构建</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903968405979144">https://juejin.cn/post/6844903968405979144</a></p>
<h5 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h5><ul>
<li><p>Sourcemap</p>
<p><strong><code>Sourcemap</code> 本质上是一个信息文件</strong>，里面储存着代码转换前后的对应位置信息。它记录了转换压缩后的代码所对应的转换前的源代码位置，是源代码和生产代码的映射。简单说 <code>Sourcemap</code> 构建了处理前以及处理后的代码之间的一座桥梁，方便定位生产环境中出现 <code>bug</code> 的位置。</p>
</li>
</ul>
<h1 id="编码规范"><a href="#编码规范" class="headerlink" title="编码规范"></a>编码规范</h1><h2 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h2><h2 id="⾃动化"><a href="#⾃动化" class="headerlink" title="⾃动化"></a>⾃动化</h2><p>调试</p>
<p>编译</p>
<p>部署</p>
<p>测试</p>
<p>⽂档化</p>
<h2 id="规范性"><a href="#规范性" class="headerlink" title="规范性"></a>规范性</h2><p>项⽬⽬录结构</p>
<p>语法提示</p>
<p>编码⻛格规范 </p>
<h3 id="lint"><a href="#lint" class="headerlink" title="lint"></a>lint</h3><h4 id="Lint-的含义"><a href="#Lint-的含义" class="headerlink" title="Lint 的含义"></a>Lint 的含义</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/ad1e46faaea2">https://www.jianshu.com/p/ad1e46faaea2</a> </p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/userkang/article/details/84305689">https://blog.csdn.net/userkang/article/details/84305689</a></p>
<p>每个程序员都有自己的编码习惯，最常见的莫过于：</p>
<ul>
<li>有的人写代码一行代码结尾必须加分号 <code>;</code>，有的人觉得不加分号 <code>;</code> 更好看；</li>
<li>有的人写代码一行代码不会超过 80 个字符，认为这样看起来简洁明了，有的人喜欢把所有逻辑都写在一行代码上，觉得别人看不懂的代码很牛逼；</li>
<li>有的人使用变量必然会先定义 <code>var a = 10;</code>，而粗心的人写变量可能没有定义过就直接使用 <code>b = 10;</code>；</li>
</ul>
<p>如果你写自己的项目怎么折腾都没关系，但是在公司中老板希望每个人写出的代码都要符合一个统一的规则，这样别人看源码就能够看得懂，因为源码是符合统一的编码规范制定的。</p>
<p>那么问题来了，总不能每个人写的代码老板都要一行行代码去检查吧，这是一件很蠢的事情。凡是重复性的工作，都应该被制作成工具来节约成本。这个工具应该做两件事情：</p>
<ul>
<li>提供编码规范；</li>
<li>提供自动检验代码的程序，并打印检验结果：告诉你哪一个文件哪一行代码不符合哪一条编码规范，方便你去修改代码。</li>
</ul>
<p>Lint 因此而诞生。</p>
<p>Lint 是检验代码格式工具的一个统称，具体的工具有 <code>Jslint</code> 、 <code>Eslint</code> 等等</p>
<h4 id="Eslint"><a href="#Eslint" class="headerlink" title="Eslint"></a>Eslint</h4><h5 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h5><blockquote>
<p>ESLint 是什么呢？<br>是一个开源的 JavaScript 的 linting 工具，使用 <a href="https://link.zhihu.com/?target=https://github.com/eslint/espree">espree</a> 将 JavaScript 代码解析成抽象语法树 (AST)，然后通过AST 来分析我们代码，从而给予我们两种提示：</p>
</blockquote>
<ol>
<li><strong>代码质量问题：使用方式有可能有问题(problematic patterns)</strong></li>
<li><strong>代码风格问题：风格不符合一定规则 (doesn’t adhere to certain style guidelines)</strong></li>
</ol>
<p>ESLint 可以让程序员在编码的过程中发现问题而不是在执行的过程中。</p>
<p>ESLint 的初衷是为了让程序员可以创建自己的检测规则。ESLint 的所有规则都被设计成可插拔的。为了便于人们使用，ESLint 内置了一些规则，当然，你可以在使用过程中自定义规则。所有的规则默认都是禁用的。</p>
<p>ESLint 使用 <strong>Node.js</strong> 编写，这样既可以有一个快速的运行环境的同时也便于安装。 (重点，<strong>使用eslint必须有package.json文件</strong>)</p>
<h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<p> npm 安装 ESLint：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install eslint --save-dev</span><br></pre></td></tr></table></figure>

<p>运行 <code>eslint --init</code> 之后，<code>.eslintrc</code> 文件会在你的文件夹中自动创建</p>
<p>生成流程：<a target="_blank" rel="noopener" href="https://blog.csdn.net/shenxianhui1995/article/details/103035013">https://blog.csdn.net/shenxianhui1995/article/details/103035013</a></p>
<p>之后，你可以在任何文件或目录上运行ESLint如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./node_modules/.bin/eslint yourfile.js</span><br></pre></td></tr></table></figure>

<h5 id="eslint配置"><a href="#eslint配置" class="headerlink" title="eslint配置"></a>eslint配置</h5><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jiaoshou/p/11218526.html">https://www.cnblogs.com/jiaoshou/p/11218526.html</a></p>
<ol>
<li>一般都采用.eslintrc.*的配置文件进行配置, 如果放在项目的根目录中，则会作用于整个项目。如果在项目的子目录中也包含着.eslintrc文件，则对于子目录中文件的检查会忽略掉根目录中的配置，而直接采用子目录中的配置，这就能够在不同的目录范围内应用不同的检查规则，显得比较灵活。ESLint采用逐级向上查找的方式查找.eslintrc.*文件，当找到带有”root”: true配置项的.eslintrc.*文件时，将会停止向上查找。</li>
<li>在 package.json文件里的 eslintConfig 字段进行配置。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">&quot;globals&quot;</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">&quot;env&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;browser&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;es2021&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;extends&quot;</span>: <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">    <span class="string">&quot;parse&quot;</span>: <span class="string">&quot;babel-eslint&quot;</span>,</span><br><span class="line">    <span class="string">&quot;parserOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;ecmaVersion&quot;</span>: <span class="number">12</span>,</span><br><span class="line">        <span class="string">&quot;sourceType&quot;</span>: <span class="string">&quot;module&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;rules&quot;</span>: &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="globals"><a href="#globals" class="headerlink" title="globals"></a>globals</h4><p>ESLint会检测未声明的额外的全局变量，并发出报错，比如node环境中的process，浏览器环境下的全局变量console，以及我们通过cdn引入的jQuery定义的$等；我们可以在<code>globals</code>中进行变量声明：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;globals&quot;</span>: &#123;</span><br><span class="line">        <span class="comment">// true表示该变量可读写，false表示变量是只读</span></span><br><span class="line">        <span class="attr">&quot;$&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">&quot;console&quot;</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是node或者浏览器中的全局变量很多，如果我们一个个进行声明显得繁琐，因此就需要用到我们的<code>env</code>，这是对环境定义的一组全局变量的预设。</p>
<h4 id="env"><a href="#env" class="headerlink" title="env"></a>env</h4><p>使用 <code>env</code> 属性来指定要启用的环境，将其设置为 <code>true</code>，以保证在进行代码检测时不会把<a target="_blank" rel="noopener" href="http://eslint.cn/docs/user-guide/configuring#specifying-environments">这些环境</a>预定义的全局变量识别成未定义的变量而报错</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;env&quot;: &#123;</span><br><span class="line">    &quot;browser&quot;: true,</span><br><span class="line">    &quot;commonjs&quot;: true,</span><br><span class="line">    &quot;es6&quot;: true,</span><br><span class="line">    &quot;jquery&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="插件plugins"><a href="#插件plugins" class="headerlink" title="插件plugins"></a>插件plugins</h4><h5 id="eslint-plugin-html"><a href="#eslint-plugin-html" class="headerlink" title="eslint-plugin-html"></a>eslint-plugin-html</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev eslint-plugin-html</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;html&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="解析器"><a href="#解析器" class="headerlink" title="解析器"></a>解析器</h4><h5 id="parser"><a href="#parser" class="headerlink" title="parser"></a>parser</h5><p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/babel-eslint">Babel-ESLint</a> - 一个对<a target="_blank" rel="noopener" href="https://babeljs.io/">Babel</a>解析器的包装，使其能够与 ESLint 兼容</p>
<h5 id="parserOptions"><a href="#parserOptions" class="headerlink" title="parserOptions"></a>parserOptions</h5><p>默认情况下，ESLint 支持 ECMAScript 5 语法，如果你想启用对 ECMAScript 其它版本和 JSX 等的支持，ESLint 允许你使用 <code>parserOptions</code> 属性进行指定想要支持的 JavaScript <a target="_blank" rel="noopener" href="http://eslint.cn/docs/user-guide/configuring#specifying-parser-options">语言选项</a></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;parser&quot;</span>: <span class="string">&quot;babel-eslint&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;parserOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">// 代码模块类型，可选script(默认)，module</span></span><br><span class="line">    <span class="attr">&quot;sourceType&quot;</span>: <span class="string">&quot;module&quot;</span>,</span><br><span class="line">    <span class="comment">// es版本号，默认为5，可以使用年份2015（同6）</span></span><br><span class="line">    <span class="attr">&quot;ecamVersion&quot;</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="comment">// es 特性配置</span></span><br><span class="line">    <span class="attr">&quot;ecmaFeatures&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;globalReturn&quot;</span>: <span class="literal">true</span>, <span class="comment">// 允许在全局作用域下使用 return 语句</span></span><br><span class="line">        <span class="attr">&quot;impliedStrict&quot;</span>: <span class="literal">true</span>, <span class="comment">// 启用全局 strict mode </span></span><br><span class="line">        <span class="attr">&quot;jsx&quot;</span>: <span class="literal">true</span> <span class="comment">// 启用 JSX</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="配置规则"><a href="#配置规则" class="headerlink" title="配置规则"></a>配置规则</h4><p><strong>启用的规则及其各自的错误级别</strong></p>
<p>在上文的配置文件中， <code>&quot;extends&quot;: &quot;eslint:recommended&quot;</code> 选项表示启用推荐规则，在推荐规则的基础上我们还可以根据需要使用 <code>rules</code> 新增自定义规则，每个规则的第一个值都是代表该规则检测后显示的错误级别：</p>
<ul>
<li><code>&quot;off&quot;</code> 或 <code>0</code> - 关闭规则</li>
<li><code>&quot;warn&quot;</code> 或 <code>1</code> - 将规则视为一个警告</li>
<li><code>&quot;error&quot;</code> 或 <code>2</code> - 将规则视为一个错误</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;rules&quot;</span>:&#123;</span><br><span class="line">       <span class="comment">// 代码缩进，使用tab缩进，switch语句的case缩进级别，1表示2个空格</span></span><br><span class="line">       <span class="attr">&quot;indent&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;tab&quot;</span>, &#123; <span class="attr">&quot;SwitchCase&quot;</span>: <span class="number">1</span> &#125;],</span><br><span class="line">       <span class="comment">// 引号，双引号</span></span><br><span class="line">       <span class="attr">&quot;quotes&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;double&quot;</span>],</span><br><span class="line">       <span class="comment">// 在语句末尾使用分号</span></span><br><span class="line">       <span class="attr">&quot;semi&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;always&quot;</span>]</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="扩展extends"><a href="#扩展extends" class="headerlink" title="扩展extends"></a>扩展extends</h4><p>如果每条规则都需要团队协商配置还是比较繁琐的，在项目开始配置时，我们可以先使用一些业内已经成熟的、大家普遍遵循的编码规范（最佳实践）；我们可以通过<code>extends</code>字段传入一些规范，它接收String/Array：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;extends&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">        <span class="string">&quot;plugin:vue/essential&quot;</span>,</span><br><span class="line">        <span class="string">&quot;@vue/prettier&quot;</span>,</span><br><span class="line">        <span class="string">&quot;eslint-config-standard&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>extends可以使用以下几种类型的扩展：</p>
<ul>
<li>eslint：开头的ESLint官方扩展，有两个：<code>eslint:recommended</code>（推荐规范）和<code>eslint:all</code>（所有规范）。</li>
<li>plugin：开头的扩展是插件类型扩展</li>
<li>eslint-config：开头的来自npm包，使用时可以省略<code>eslint-config-</code>，比如上面的可以直接写成<code>standard</code></li>
<li>@：开头的扩展和eslint-config一样，是在npm包上面加了一层作用域scope</li>
</ul>
<blockquote>
<p>需要注意的是：多个扩展中有相同的规则，以后面引入的扩展中规则为准。</p>
</blockquote>
<p><code>eslint:recommended</code>推荐使用的规则在规则列表的右侧用<code>绿色√</code>标记。</p>
<h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><ul>
<li><p>eslint在setting.json中配置和.eslintrc.js文件配置区别</p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/q/1010000023094556">https://segmentfault.com/q/1010000023094556</a></p>
<p>setting.json里面配的是vscode对eslint插件的一些配置，而.eslintrc里面配的是对代码规范的配置。目标不一样。vscode的所有配置都针对于插件或者vscode自身的。除了特别指定，这个 eslint 配置文件将会覆盖掉 vscode 的 setting.json 中 eslint 相关的配置。</p>
</li>
</ul>
<h5 id="Prettier"><a href="#Prettier" class="headerlink" title="Prettier"></a>Prettier</h5><p>它是<strong>代码格式化工具</strong>，用来做代码格式化，有了Prettier之后，它能去掉原始的代码风格，确保团队的代码使用统一相同的格式，修复规则可自定义。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  #让prettier使用eslint的代码格式进行校验 </span></span><br><span class="line"><span class="string">&quot;prettier.eslintIntegration&quot;</span>: <span class="literal">true</span>,</span><br></pre></td></tr></table></figure>

<p>联调规范</p>
<p>⽂件命名规范</p>
<p>代码样式规范</p>
<p>git flow</p>
<h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><h2 id="git如何创建多个ssh"><a href="#git如何创建多个ssh" class="headerlink" title="git如何创建多个ssh"></a>git如何创建多个ssh</h2><h3 id="1-清除原有的设置"><a href="#1-清除原有的设置" class="headerlink" title="1.清除原有的设置"></a>1.清除原有的设置</h3><p><strong>初次使用git请跳过此步骤</strong></p>
<p>如果之前对git设置过global信息，则需要先清除这些信息，通过如下指令：</p>
<p>查看Git所有配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>

<p>查看当前用户（<strong>local</strong>）配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --local  --list</span><br><span class="line">或者</span><br><span class="line">cat .git/config</span><br></pre></td></tr></table></figure>

<p>查看<code>user.name</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br></pre></td></tr></table></figure>

<p>查看<code>user.email</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config user.email</span><br></pre></td></tr></table></figure>

<p><strong>删除</strong>全局配置项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset user.name</span><br></pre></td></tr></table></figure>

<h3 id="2-ssh配置"><a href="#2-ssh配置" class="headerlink" title="2.ssh配置"></a>2.ssh配置</h3><ol>
<li>配置用户信息    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~/workspace/gitlab</span><br><span class="line">git init</span><br><span class="line">git config --local user.name ‘gitlab‘//local局部 global</span><br><span class="line">git config --local user.email ‘gitlab@company.com‘</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>   生成ssh key</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;email&quot;</span><br></pre></td></tr></table></figure>

<p> 当命令行出现 Enter file in which to save the key (~/.ssh/id_rsa):  </p>
<p> 它会提示你输入一个保存key的路径/文件名，默认创建文件名id_rsa（若有多个邮箱，则创建不同的文件名）</p>
<p> 在.ssh文件中找到创建的id_rsa_pub并复制里面的内容，在远程的设置的密钥（key）里面粘贴</p>
<ol start="3">
<li>   配置config文件(id_rsa文件同级目录下)</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#Host 它涵盖了下面一个段的配置，我们可以通过他来替代将要连接的服务器地址。</span><br><span class="line">#HostName    真正连接的服务器地址</span><br><span class="line">#User是本地ssh-agent与github服务器建立SSH连接时采用的用户名，IdentityFile是对应的私钥文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#ssh -T User@Host	判断连接是否成功</span><br><span class="line"></span><br><span class="line"># gitlab</span><br><span class="line">Host git.lab</span><br><span class="line">HostName gitlab.com</span><br><span class="line">User git</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_lab</span><br><span class="line"></span><br><span class="line"># github</span><br><span class="line">Host git.hub</span><br><span class="line">HostName github.com</span><br><span class="line">User git</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br><span class="line">121.89.167.104</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>本地仓库与远程仓库关联：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin(设置的远程库名) User@Host:用户名/仓库名</span><br><span class="line">或者直接 git clone 链接(一般是master上的分支)</span><br><span class="line"></span><br><span class="line">clone https时，每次pull都会输入密码</span><br><span class="line">git config --global credential.helper store</span><br></pre></td></tr></table></figure></li>
<li><p>测试连接成功</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T User@Host</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="git-指令"><a href="#git-指令" class="headerlink" title="git 指令"></a>git 指令</h2><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>git init 初始化版本库（clone下来的不用初始化）</p>
<img src="https://mmbiz.qpic.cn/mmbiz_jpg/QhRDUrJbPe6737sZ1ptKUEQcY6YOcKFqqqdv3riaAEJYVibl3GUgmRTiaH5sldypibNN7Zzk3Zqv9lMCAAsvT4vVQw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片" style="zoom:67%;" />

<p>首先<strong>工作区</strong>就是我们当前的文件目录，我们改完代码，用<code>git add</code>命令把当前文件加入<strong>暂存区</strong>，然后<code>git commit</code>把<strong>暂存区</strong>生成的快照提交到<strong>本地仓库</strong>，最后再用<code>git push</code>命令把<strong>本地仓库</strong>的提交复制到<strong>远程仓库</strong>，也就是<code>Github</code>之类的在线仓库。</p>
<p>git add  文件名                                              放入暂存区stage</p>
<p>git commit -m “提交的说明message”        放入分支里</p>
<p>git commit  -am                                            add和commit的合并，便捷写法</p>
<p>git commit –amend                                     尝试重新提交(<strong>漏掉了几个文件没有添加，或者提交信息commit message写错</strong>)，新增的<code>commit</code>会代替原来的<code>commit</code>的位置，而旧<code>commit</code>则被抛弃掉</p>
<h3 id="commit规范"><a href="#commit规范" class="headerlink" title="commit规范"></a><strong>commit规范</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">feat:     A new feature</span><br><span class="line">fix:      A bug fix</span><br><span class="line">docs:     Documentation only changes</span><br><span class="line">style:    Changes that do not affect the meaning of the code</span><br><span class="line">refactor: A code change that neither fixes a bug nor adds a feature</span><br><span class="line">perf:     A code change that improves performance</span><br><span class="line">test:     Adding missing tests or correcting existing tests</span><br></pre></td></tr></table></figure>

<p>分支规范<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/108385922">https://zhuanlan.zhihu.com/p/108385922</a></p>
<h3 id="本地分支的操作"><a href="#本地分支的操作" class="headerlink" title="本地分支的操作"></a>本地分支的操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev 或者git switch -c dev    创建并切换该分支</span><br><span class="line">git branch dev 								创建分支</span><br><span class="line">git checkout master							切换分支</span><br><span class="line">git branch -d dev							删除分支</span><br><span class="line">git branch -D dev							强行删除一个没有合并的分支    </span><br><span class="line">git branch -vv                              查看关联关系                         </span><br><span class="line"></span><br><span class="line">git branch									查看本地分支</span><br><span class="line">git branch -r			    				查看远程分支</span><br><span class="line">git branch -a 			   					查看所有分支（包括远程分支和本地分支）</span><br><span class="line">git branch -a | grep paynicorn2-repay-notice 查询指定分支(本地和远程的)</span><br></pre></td></tr></table></figure>

<h3 id="远程分支的操作"><a href="#远程分支的操作" class="headerlink" title="远程分支的操作"></a>远程分支的操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">远程分支的移除</span><br><span class="line">git remote rm paul				</span><br><span class="line">git push origin --delete main</span><br><span class="line">远程分支重命名，pb 重命名为 paul</span><br><span class="line">git remote rename pb paul</span><br><span class="line">拉取远程分支到本地</span><br><span class="line">git checkout -b dev origin/dev	         直接拉取远程的分支，创建为本地的分支</span><br><span class="line">推送到远程分支</span><br><span class="line">git push --set-upstream origin wangxiao	 将本地的分支推送远程上（第一次推送）</span><br><span class="line">git push orgin dev 						 上传分支到远程dev</span><br><span class="line">为此分支创建跟踪信息，您可以执行：</span><br><span class="line">git branch --set-upstream-to=origin/&lt;分支&gt; master</span><br><span class="line">//https://blog.csdn.net/wangqingpei557/article/details/53147086</span><br><span class="line">删除远程分支，git branch -a,还是可以看到远程的分支</span><br><span class="line">解决：git remote prune origin </span><br><span class="line">//无法连接到仓库,尝试重新连接</span><br><span class="line"> git remote rm origin  删除远程origin</span><br><span class="line"> git remote add origin git@git.hub.bundle:bibo72/bundleb2b-v3.0-storefront.git</span><br></pre></td></tr></table></figure>

<h3 id="合并分支的操作"><a href="#合并分支的操作" class="headerlink" title="合并分支的操作"></a>合并分支的操作</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git rebase 分支	合并本地分支</span><br><span class="line"></span><br><span class="line">git config --global pull.rebase true     这个配置就是告诉git在每次pull前先进行rebase操作</span><br><span class="line">git pull orgin 分支名					   拉取远程分支并合并分支</span><br><span class="line">pull= fetch + merge</span><br><span class="line">git pull --rebase</span><br><span class="line">pull= fetch + rebase</span><br><span class="line"></span><br><span class="line">git fetch</span><br><span class="line">从远程获取最新版本到本地，不会自动合并分支</span><br><span class="line"></span><br><span class="line">git rebase --abort</span><br><span class="line">执行之后，本地内容会回到提交之间的状态，也就是回到以前提交但没有pull的状态，简单来说就是撤销rebase。</span><br></pre></td></tr></table></figure>

<h3 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h3><img src="https://img2018.cnblogs.com/blog/333765/202001/333765-20200111163049190-252688967.png" alt="img" style="zoom: 67%;" />

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//查看文件状态（是否被add或者commit）</span><br><span class="line">git status 					  </span><br><span class="line">使用 git status -s 命令或 git status –short 命令，你将得到一种更为紧凑的格式输出</span><br><span class="line">//文件的区别</span><br><span class="line">git diff 						 		    区和的暂存区差异</span><br><span class="line">git diff HEAD								显示工作区与当前分支最新commit之间的差异</span><br><span class="line">git diff --cached 							显示暂存区和上一个commit的差异</span><br><span class="line">git diff branch-1 branch-2 	[filename]		比较两个分支(filename)的不同</span><br><span class="line">git diff commit1..commit2  					查看两个 commit 的对比</span><br><span class="line">git ls-files								查看暂存区的文件</span><br><span class="line">git diff origin/branchname..branchname 		查看远程分支和本地分支的对比</span><br><span class="line"></span><br><span class="line">//查看提交日志，每一次提交都有对应的 commit id 和 commit message(看不出来被删除的commitid),可以加上参数--pretty=oneline，只会显示版本号和提交时的备注信息</span><br><span class="line">git log							</span><br><span class="line">git log  -p					  用来显示每次提交的内容差异							</span><br><span class="line">//记录操作记录(包括已经被删除的 commit 记录和 reset 的操作)		  </span><br><span class="line">git reflog					  </span><br><span class="line"></span><br><span class="line">git remote -v				查看关联的远程仓库url</span><br><span class="line">cat .git/HEAD			    查看当前 HEAD 指向</span><br></pre></td></tr></table></figure>

<h3 id="回退系列"><a href="#回退系列" class="headerlink" title="回退系列"></a>回退系列</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^					    回退到上一个版本</span><br><span class="line">git reset --hard HEAD~1					    回退到上一个版本</span><br><span class="line">git reset --hard id(前6位就行)	        	 回退到指定版本</span><br><span class="line"></span><br><span class="line">git checkout .										   清空工作区改动</span><br><span class="line">git checkout -- 文件名 					  </span><br><span class="line"></span><br><span class="line">当你开始修改一个文件后，还没有执行 git add命令前(此时还在工作区）,想撤销对这个文件的改动，可以使用git checkout -- 文件名 </span><br><span class="line">一旦你使用了 git add命令将文件添加到暂存区，此时不想改这个文件了，需要用git reset HEAD filename(git reset HEAD .)把文件移会到工作区，再使用第一步的git checkout -- 文件名 撤销工作区改动</span><br></pre></td></tr></table></figure>

<h3 id="文件的操作"><a href="#文件的操作" class="headerlink" title="文件的操作"></a>文件的操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm 文件名									删除文件，若误删，可以使用git checkout -- 文件名 </span><br><span class="line">rm -rf  `git status | grep app/code`</span><br><span class="line">cut 文件名										 获取文件内容</span><br></pre></td></tr></table></figure>

<h3 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">（1）git stash save <span class="string">&quot;save message&quot;</span>  : 执行存储时，添加备注，方便查找，只有git stash 也要可以的，但查找时不方便识别。</span><br><span class="line"></span><br><span class="line">（2）git stash list  ：查看stash了哪些存储</span><br><span class="line"></span><br><span class="line">（3）git stash show ：显示做了哪些改动，默认show第一个存储,如果要显示其他存贮，后面加stash@&#123;<span class="variable">$num</span>&#125;，比如第二个 git stash show stash@&#123;1&#125;</span><br><span class="line"></span><br><span class="line">（4）git stash show -p : 显示第一个存储的改动，如果想显示其他存存储，命令：git stash show  stash@&#123;<span class="variable">$num</span>&#125;  -p ，比如第二个：git stash show  stash@&#123;1&#125;  -p</span><br><span class="line"></span><br><span class="line">（5）git stash apply :应用某个存储,但不会把存储从存储列表中删除，默认使用第一个存储,即stash@&#123;0&#125;，如果要使用其他个，git stash apply stash@&#123;<span class="variable">$num</span>&#125; ， 比如第二个：git stash apply stash@&#123;1&#125; </span><br><span class="line"></span><br><span class="line">（6）git stash pop ：命令恢复之前缓存的工作目录，将缓存堆栈中的对应stash删除，并将对应修改应用到当前的工作目录下,默认为第一个stash,即stash@&#123;0&#125;，如果要应用并删除其他stash，命令：git stash pop stash@&#123;<span class="variable">$num</span>&#125; ，比如应用并删除第二个：git stash pop stash@&#123;1&#125;</span><br><span class="line"></span><br><span class="line">（7）git stash drop stash@&#123;<span class="variable">$num</span>&#125; ：丢弃stash@&#123;<span class="variable">$num</span>&#125;存储，从列表中删除这个存储</span><br><span class="line"></span><br><span class="line">（8）git stash clear ：删除所有缓存的stash</span><br></pre></td></tr></table></figure>

<h3 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/tian874540961/p/12172900.html">https://www.cnblogs.com/tian874540961/p/12172900.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hudashi/article/details/7664631/">https://blog.csdn.net/hudashi/article/details/7664631/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hujunzheng/p/9732936.html">https://www.cnblogs.com/hujunzheng/p/9732936.html</a></p>
<img src="https://qboshi.oss-cn-hangzhou.aliyuncs.com/pic/086ccdee-4f40-4a8c-99c8-886bc672f0d8.jpg" alt="img" style="zoom:50%;" />

<p>当我开发完D后，准备push到远端master时，git会进行检查：<strong>远端master的最新节点是否是节点D的基点，即检查远端master的基点是否是节点C</strong>，如果是，则可以直接push，如果不是，也就是上图的情况：在你push之前远端master已经被他人提交了E和F节点，这时可以执行<code>git pull -r</code></p>
<img src="https://qboshi.oss-cn-hangzhou.aliyuncs.com/pic/88729b51-5f43-42a5-bd69-9c39f863ab92.jpg" alt="img" style="zoom:50%;" />

<p>git会以F节点作为新的基点，与D节点的代码进行融合，如果此时出现<strong>冲突</strong>，那么你就会被移到临时解冲突的分支，需要人工解冲突，解完后执行<code>git add -A</code>保存操作，再执行<code>git rebase --continue</code>继续后续操作，你可能会遗漏某一处冲突，这个完全不同担心，<code>git rebase --continue</code>会帮你检查是否解决完成，如果没有完成则不会让你回到正常分支。</p>
<img src="https://qboshi.oss-cn-hangzhou.aliyuncs.com/pic/beb6433f-49e8-4b42-b821-32a7350f2cc7.jpg" alt="img" style="zoom:50%;" />

<p>此时我再执行<code>git push</code>，就可以顺利将D节点提交到远端master上去了：</p>
<img src="https://qboshi.oss-cn-hangzhou.aliyuncs.com/pic/469b4e16-c88d-4f71-9dde-c7eb432b7a78.jpg" alt="img" style="zoom:50%;" />

<p>这同理本地基于master分支创建dev分支，master拉取远程代码后(其他人push了代码到远程master)，本地的master领先与dev分支，所以需要rebase，不然会污染了 commit 记录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rebase --edit-todo</span><br><span class="line">git rebase —abort 都可以用 --abort 参数来终止 rebase 的行动，并且分支会回到 rebase 开始前的状态。</span><br></pre></td></tr></table></figure>

<ul>
<li><p>合并多个提交</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i HEAD~2</span><br><span class="line">将第二行的 pick 改为 s “s” 为 “squash” 的缩写</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pick：保留该commit（缩写:p）</span><br><span class="line">reword：保留该commit，但我需要修改该commit的注释（缩写:r）</span><br><span class="line">edit：保留该commit, 但我要停下来修改该提交(不仅仅修改注释)（缩写:e）</span><br><span class="line">squash：将该commit和前一个commit合并（缩写:s）</span><br><span class="line">fixup：将该commit和前一个commit合并，但我不要保留该提交的注释信息（缩写:f）</span><br><span class="line">exec：执行shell命令（缩写:x）</span><br><span class="line">drop：我要丢弃该commit（缩写:d）</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Tips-1"><a href="#Tips-1" class="headerlink" title="Tips"></a>Tips</h2><ul>
<li><p>clone https时，每次pull都会输入密码<br>git config –global credential.helper store</p>
</li>
<li><p>git忽略文件权限的改变<br>git config core.filemode false</p>
</li>
<li><p>git 换行符LF与CRLF转换问题<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_22978533/article/details/78145935">https://blog.csdn.net/qq_22978533/article/details/78145935</a></p>
<p>在各操作系统下，文本文件所使用的换行符是不一样的。UNIX/Linux/ Mac OS使用的是 LF，但 DOS/Windows 一直使用 CRLF作为换行符。Git提供了一个“换行符自动转换”功能。这个功能默认处于“自动模式”，当你在签出文件时，它试图将 UNIX 换行符（LF）替换为 Windows 的换行符（CRLF）；当你在提交文件时，它又试图将 CRLF 替换为 LF。Git 的“换行符自动转换”功能听起来似乎很智能、很贴心，因为它试图一方面保持仓库内文件的一致性（UNIX 风格），一方面又保证本地文件的兼容性（Windows 风格）。但遗憾的是，这个功能是有 bug 的，而且在短期内都不太可能会修正。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#提交时转换为LF，检出时不转换</span><br><span class="line">git config --global core.autocrlf input</span><br><span class="line">#提交检出均不转换</span><br><span class="line">git config --global core.autocrlf false</span><br><span class="line">#提交检出均转换</span><br><span class="line">git config --global core.autocrlf true</span><br><span class="line"></span><br><span class="line">SafeCRLF</span><br><span class="line">#拒绝提交包含混合换行符的文件</span><br><span class="line">git config --global core.safecrlf true</span><br><span class="line">#允许提交包含混合换行符的文件</span><br><span class="line">git config --global core.safecrlf false</span><br><span class="line">#提交包含混合换行符的文件时给出警告</span><br><span class="line">git config --global core.safecrlf warn</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>解决Git在添加ignore文件之前就提交了项目无法再过滤问题</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">首先为避免冲突需要先同步下远程仓库</span><br><span class="line">$ git pull</span><br><span class="line">在本地项目目录下删除缓存</span><br><span class="line">$ git rm -r --cached .</span><br><span class="line">新建.gitignore文件</span><br><span class="line">在项目的根目录下面新建.gitignore文件并添加相应的过滤规则</span><br><span class="line"></span><br><span class="line">再次add所有文件</span><br><span class="line">输入以下命令，再次将项目中所有文件添加到本地仓库缓存中</span><br><span class="line">$ git add .</span><br><span class="line"></span><br><span class="line">再次添加commit</span><br><span class="line">这次commit是为了说明添加ignore文件的。</span><br><span class="line">$ git commit -m <span class="string">&quot;add ignore&quot;</span>  </span><br><span class="line">最后提交到远程仓库即可</span><br><span class="line">$ git push</span><br></pre></td></tr></table></figure></li>
<li><p>fatal: 当前分支 master 没有对应的上游分支。<br>为推送当前分支并建立与远程上游的跟踪，使用</p>
<pre><code>git push --set-upstream origin master
</code></pre>
</li>
<li><p>无法连接到仓库,尝试重新连接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin  删除远程origin</span><br><span class="line">git remote add origin git@git.hub.bundle:bibo72/bundleb2b-v3.0-storefront.git</span><br></pre></td></tr></table></figure></li>
<li><p>```<br>git config –global core.editor vim </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># npm</span><br><span class="line"></span><br><span class="line">## 下载</span><br><span class="line"></span><br><span class="line">**解决npm下载慢的问题**</span><br><span class="line"></span><br><span class="line">方法一：使用淘宝定制的cnpm命令行工具替代默认安装npm</span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm install -g cnpm –registry=<a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">方法二：将npm默认的下载地址修改为淘宝镜像</span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm config set registry <a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">注意，如果将来你需要发布自己的软件包时，需要将registry字段的值修改回来</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>npm config set registry <a target="_blank" rel="noopener" href="https://registry.npmjs.org/">https://registry.npmjs.org/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**npm-check**</span><br><span class="line"></span><br><span class="line">[npm-check](https://link.zhihu.com/?target=https%3A//link.jianshu.com/%3Ft%3Dhttps%3A//www.npmjs.com/package/npm-check)是用来检查npm依赖包是否有更新，错误以及不在使用的，我们也可以使用npm-check进行包的更新</span><br><span class="line"></span><br><span class="line">安装npm-check：</span><br><span class="line"></span><br><span class="line">&gt; npm install -g npm-check</span><br><span class="line"></span><br><span class="line">检查npm包的状态:</span><br><span class="line"></span><br><span class="line">&gt; npm-check -u -g</span><br><span class="line"></span><br><span class="line">**升级依赖**</span><br><span class="line"></span><br><span class="line">&gt; npm install -g npm-check-updates</span><br><span class="line">&gt;</span><br><span class="line">&gt; ncu -u</span><br><span class="line"></span><br><span class="line">**查找未使用的npm包**</span><br><span class="line"></span><br><span class="line">&gt; npm install -g depcheck</span><br><span class="line">&gt;</span><br><span class="line">&gt; depcheck</span><br><span class="line"></span><br><span class="line">## 插件</span><br><span class="line"></span><br><span class="line">- 将DOM转化成canvas对象</span><br><span class="line"></span><br><span class="line">  http://html2canvas.hertzen.com/dist/html2canvas.min.js</span><br><span class="line"></span><br><span class="line">- 将canvas生成照片</span><br><span class="line"></span><br><span class="line">  HTTP://github.com/randreucetti/canvas2image</span><br><span class="line"></span><br><span class="line">- 一个用于将文本复制到剪贴板的 JS 库</span><br><span class="line"></span><br><span class="line">  https://github.com/zenorocha/clipboard.js</span><br><span class="line">  </span><br><span class="line">- React 中保存页面状态/在react中实现vue的**keep-alive**/**React Activation**</span><br><span class="line"></span><br><span class="line">- pubsub利用JavaScript进行发布/订阅的库</span><br><span class="line"></span><br><span class="line">- moment时间处理：http://momentjs.cn/</span><br><span class="line"></span><br><span class="line">- QRCode:生成二维码https://www.npmjs.com/package/qrcode#api</span><br><span class="line"></span><br><span class="line">  https://zh.qr-code-generator.com/</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>QRCode.toDataURL(url.basePage + “/common/share/#/homeshare”)<br>.then(url =&gt; {<br>this.qrcodeImg = url<br>})<br>.catch(err =&gt; {<br>console.error(err);<br>});</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### vue</span><br><span class="line"></span><br><span class="line">- vue-ls:用于从Vue上下文中使用本地Storage，会话Storage和内存Storage</span><br><span class="line">- register-service-worker</span><br><span class="line"></span><br><span class="line">#### 特效</span><br><span class="line"></span><br><span class="line">- vue-seamless-scroll:循环滚动列表</span><br><span class="line">- https://svga.io/index.html：展示动态图片</span><br><span class="line"></span><br><span class="line">### react</span><br><span class="line"></span><br><span class="line">- `array-move` 就一个 API，它的主要作用就是**用来交换数组中元素的位置**。我们用 node 进行调试 </span><br><span class="line"></span><br><span class="line">  ```jsx</span><br><span class="line">  // 引包</span><br><span class="line">  const arrayMove = require(&#x27;array-move&#x27;);</span><br><span class="line">  // 创建一个数组</span><br><span class="line">  const input = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];</span><br><span class="line">   </span><br><span class="line">  // 以下三个排序实例</span><br><span class="line">  console.log(arrayMove(input, 1, 2));</span><br><span class="line">  //=&gt; [&#x27;a&#x27;, &#x27;c&#x27;, &#x27;b&#x27;]</span><br><span class="line">   </span><br><span class="line">  console.log(arrayMove(input, -1, 0));</span><br><span class="line">  //=&gt; [&#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;]</span><br><span class="line">   </span><br><span class="line">  console.log(arrayMove(input, -2, -3));</span><br><span class="line">  //=&gt; [&#x27;b&#x27;, &#x27;a&#x27;, &#x27;c&#x27;]</span><br></pre></td></tr></table></figure></li>
<li><p>拖拽react-sortable-hoc</p>
<p>高阶函数（Higher Order Function）=&gt; 参数或返回值为函数组件</p>
<p><code>react-sortable-hoc</code> 提供了两个特别重要的 API ，分别是<code>SortableContainer 和 SortableElement</code> 看英文的意思也知道，<code>SortableElement</code>用来装饰每个要拖拽的组件，相对于<code>SortableContainer</code> 要装饰的组件，<code>SortableElement</code> 装饰的组件是子组件。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SortableItem = SortableElement(<span class="function">(<span class="params">props: any</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;props.children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line"><span class="keyword">const</span> SortableList1 = SortableContainer(<span class="function">(<span class="params">&#123; items &#125;: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;items.map((item: any, index: number) =&gt; (</span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">SortableItem</span> <span class="attr">key</span>=<span class="string">&#123;</span>`<span class="attr">item-</span>$&#123;<span class="attr">item</span>&#125;<span class="attr">-</span>$&#123;<span class="attr">index</span>&#125;`&#125; <span class="attr">index</span>=<span class="string">&#123;index&#125;</span> <span class="attr">value</span>=<span class="string">&#123;item&#125;</span> &gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">RuleOne</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            &gt;</span><span class="tag">&lt;/<span class="name">RuleOne</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">SortableItem</span>&gt;</span></span></span><br><span class="line"><span class="xml">        ))&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">SortableList1</span> <span class="attr">items</span>=<span class="string">&#123;submitData[</span>&#x27;<span class="attr">rule1</span>&#x27;]<span class="attr">.ruleGroup</span>&#125; <span class="attr">useDragHandle</span> <span class="attr">disableAutoscroll</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">                <span class="attr">onSortEnd</span>=<span class="string">&#123;(&#123;</span> <span class="attr">oldIndex</span>, <span class="attr">newIndex</span> &#125;<span class="attr">:</span> <span class="attr">any</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="xml">                  if (oldIndex !== newIndex) &#123;</span></span><br><span class="line"><span class="xml">                    saveRules(submitData, () =&gt; &#123;</span></span><br><span class="line"><span class="xml">                      submitData[&#x27;rule1&#x27;].ruleGroup = 				 arrayMoveImmutable(submitData[&#x27;rule1&#x27;].ruleGroup, oldIndex, newIndex)</span></span><br><span class="line"><span class="xml">                    &#125;)</span></span><br><span class="line"><span class="xml">                  &#125;</span></span><br><span class="line"><span class="xml">                &#125;&#125;</span></span><br><span class="line"><span class="xml">/&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="comment">// 创建 axios 实例</span></span><br><span class="line"><span class="keyword">const</span> service = axios.create(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: process.env.VUE_APP_API_BASE_URL, <span class="comment">// api base_url</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">6000</span> <span class="comment">// 请求超时时间</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 添加请求拦截器</span></span><br><span class="line">service.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> handleParams(config)</span><br><span class="line">&#125;, err)</span><br><span class="line"><span class="keyword">let</span> showLoading = <span class="literal">null</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleParams</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!showLoading) &#123;</span><br><span class="line">    showLoading = Toast.loading(&#123;</span><br><span class="line">      <span class="attr">duration</span>: <span class="number">0</span>, <span class="comment">// 持续展示 toast</span></span><br><span class="line">      <span class="attr">forbidClick</span>: <span class="literal">true</span>, <span class="comment">// 是否禁止点击背景</span></span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;加载中&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 对请求错误做些什么</span></span><br><span class="line"><span class="keyword">const</span> err = <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (error.response) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = error.response.data</span><br><span class="line">    <span class="keyword">if</span> (error.response.status === <span class="number">403</span>) &#123;</span><br><span class="line">      failToast(<span class="string">&#x27;Forbidden&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (error.response.status === <span class="number">401</span> &amp;&amp; !(data.result &amp;&amp; data.result.isLogin)) &#123;</span><br><span class="line">      failToast(<span class="string">&#x27;Unauthorized&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 请求超时状态</span></span><br><span class="line">    <span class="keyword">if</span> (error.message.includes(<span class="string">&#x27;timeout&#x27;</span>)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;超时了&#x27;</span>)</span><br><span class="line">      failToast(<span class="string">&#x27;请求超时，请检查网络是否连接正常&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 可以展示断网组件</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;断网了&#x27;</span>)</span><br><span class="line">      failToast(<span class="string">&#x27;请求失败，请检查网络是否已连接&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  showLoading &amp;&amp; showLoading.clear()</span><br><span class="line">  showLoading = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 添加响应拦截器</span></span><br><span class="line">service.interceptors.response.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> handleParams(config)</span><br><span class="line">&#125;, err)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="comment">//封装请求方式</span></span><br><span class="line"><span class="keyword">const</span> request = <span class="function">(<span class="params">url, params = &#123;&#125;, method = <span class="string">&#x27;post&#x27;</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;put&#x27;</span>].includes(method) ? axios(&#123;url, method, <span class="attr">data</span>: params&#125;) : axios(&#123;url, method, params&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="comment">//发请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">respondSurvey</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> request(api_share.respondSurvey, params)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><p>查看当前项目安装过的依赖模块<br>npm list –depth 0</p>
<p>查看全局安装过的依赖模块<br>npm list -g –depth 0</p>
<p>清理缓存命令：</p>
<ul>
<li>局部</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean --force</span><br></pre></td></tr></table></figure>

<ul>
<li><p>全局</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.npm</span><br><span class="line">du -sh * </span><br><span class="line">rm -rf _cacache   </span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:120329698@qq.com">LMTomorrow</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://tomorrowlm.github.io/2020/09/25/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/">https://tomorrowlm.github.io/2020/09/25/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://tomorrowlm.github.io" target="_blank">TomorrowLM-Web</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/webpack/">webpack</a><a class="post-meta__tags" href="/tags/git/">git</a><a class="post-meta__tags" href="/tags/npm/">npm</a><a class="post-meta__tags" href="/tags/%E8%A7%84%E8%8C%83/">规范</a></div><div class="post_share"><div class="social-share" data-image="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/09/25/vue/"><img class="prev-cover" src="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">vue</div></div></a></div><div class="next-post pull-right"><a href="/2020/09/25/react/"><img class="next-cover" src="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">react技术栈</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">LMTomorrow</div><div class="author-info__description">热爱</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/TomorrowLM"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">网站搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#nginx"><span class="toc-number">1.1.</span> <span class="toc-text">nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PM2"><span class="toc-number">1.2.</span> <span class="toc-text">PM2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#express"><span class="toc-number">1.3.</span> <span class="toc-text">express</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E2%BC%AF%E7%A8%8B%E5%8C%96"><span class="toc-number">2.</span> <span class="toc-text">前端⼯程化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83"><span class="toc-number">2.1.</span> <span class="toc-text">JS模块规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CommonJS"><span class="toc-number">2.1.1.</span> <span class="toc-text">CommonJS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AMD"><span class="toc-number">2.1.2.</span> <span class="toc-text">AMD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CMD"><span class="toc-number">2.1.3.</span> <span class="toc-text">CMD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6"><span class="toc-number">2.1.4.</span> <span class="toc-text">ES6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA"><span class="toc-number">2.1.5.</span> <span class="toc-text">模块包的导入导出</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CommonJS-1"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">CommonJS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6-Module"><span class="toc-number">2.1.5.2.</span> <span class="toc-text">ES6 Module</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%BC%E5%87%BA"><span class="toc-number">2.1.5.2.1.</span> <span class="toc-text">导出</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5"><span class="toc-number">2.1.5.2.2.</span> <span class="toc-text">导入</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CommonJS-%E4%B8%8EES6%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.1.5.3.</span> <span class="toc-text">CommonJS 与ES6的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB%E4%B8%80"><span class="toc-number">2.1.5.3.1.</span> <span class="toc-text">区别一</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB%E4%BA%8C"><span class="toc-number">2.1.5.3.2.</span> <span class="toc-text">区别二</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7"><span class="toc-number">2.2.</span> <span class="toc-text">构建工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E5%8E%86%E5%8F%B2"><span class="toc-number">2.2.1.</span> <span class="toc-text">构建历史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack%E5%92%8Cgulp%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.2.2.</span> <span class="toc-text">webpack和gulp的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%AE%9A%E4%B9%89"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">webpack打包工具定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#gulp%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E5%AE%9A%E4%B9%89"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">gulp构建工具定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%90%8C%E5%8A%9F%E8%83%BD"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">相同功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">2.2.2.4.</span> <span class="toc-text">区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack"><span class="toc-number">2.2.3.</span> <span class="toc-text">webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96"><span class="toc-number">2.2.3.2.</span> <span class="toc-text">依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.2.3.2.1.</span> <span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#webpack-1"><span class="toc-number">2.2.3.2.1.1.</span> <span class="toc-text">webpack</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#webpack-dev-server"><span class="toc-number">2.2.3.2.1.2.</span> <span class="toc-text">webpack-dev-server</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#html-webpack-plugin"><span class="toc-number">2.2.3.2.1.3.</span> <span class="toc-text">html-webpack-plugin</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#loader"><span class="toc-number">2.2.3.2.2.</span> <span class="toc-text">loader</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96"><span class="toc-number">2.2.3.2.3.</span> <span class="toc-text">编译优化</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E8%BF%9B%E5%BA%A6%E5%92%8C%E4%BE%9D%E8%B5%96%E5%8C%85%E5%A4%A7%E5%B0%8F"><span class="toc-number">2.2.3.2.3.1.</span> <span class="toc-text">编译进度和依赖包大小</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E9%80%9F%E5%BA%A6%E5%88%86%E6%9E%90"><span class="toc-number">2.2.3.2.3.2.</span> <span class="toc-text">编译速度分析</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BC%93%E5%AD%98"><span class="toc-number">2.2.3.2.3.3.</span> <span class="toc-text">缓存</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9"><span class="toc-number">2.2.3.2.4.</span> <span class="toc-text">压缩</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA"><span class="toc-number">2.2.3.3.</span> <span class="toc-text">项目构建</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.3.3.1.</span> <span class="toc-text">配置</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83"><span class="toc-number">3.</span> <span class="toc-text">编码规范</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96"><span class="toc-number">3.1.</span> <span class="toc-text">组件化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%BE%83%E5%8A%A8%E5%8C%96"><span class="toc-number">3.2.</span> <span class="toc-text">⾃动化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E6%80%A7"><span class="toc-number">3.3.</span> <span class="toc-text">规范性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#lint"><span class="toc-number">3.3.1.</span> <span class="toc-text">lint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Lint-%E7%9A%84%E5%90%AB%E4%B9%89"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">Lint 的含义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Eslint"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">Eslint</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%AB%E4%B9%89"><span class="toc-number">3.3.1.2.1.</span> <span class="toc-text">含义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">3.3.1.2.2.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#eslint%E9%85%8D%E7%BD%AE"><span class="toc-number">3.3.1.2.3.</span> <span class="toc-text">eslint配置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#globals"><span class="toc-number">3.3.1.3.</span> <span class="toc-text">globals</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#env"><span class="toc-number">3.3.1.4.</span> <span class="toc-text">env</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6plugins"><span class="toc-number">3.3.1.5.</span> <span class="toc-text">插件plugins</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#eslint-plugin-html"><span class="toc-number">3.3.1.5.1.</span> <span class="toc-text">eslint-plugin-html</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="toc-number">3.3.1.6.</span> <span class="toc-text">解析器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#parser"><span class="toc-number">3.3.1.6.1.</span> <span class="toc-text">parser</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#parserOptions"><span class="toc-number">3.3.1.6.2.</span> <span class="toc-text">parserOptions</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%A7%84%E5%88%99"><span class="toc-number">3.3.1.7.</span> <span class="toc-text">配置规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%B1%95extends"><span class="toc-number">3.3.1.8.</span> <span class="toc-text">扩展extends</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Tips"><span class="toc-number">3.3.1.9.</span> <span class="toc-text">Tips</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Prettier"><span class="toc-number">3.3.1.9.1.</span> <span class="toc-text">Prettier</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#git"><span class="toc-number">4.</span> <span class="toc-text">git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#git%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E5%A4%9A%E4%B8%AAssh"><span class="toc-number">4.1.</span> <span class="toc-text">git如何创建多个ssh</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B8%85%E9%99%A4%E5%8E%9F%E6%9C%89%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="toc-number">4.1.1.</span> <span class="toc-text">1.清除原有的设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ssh%E9%85%8D%E7%BD%AE"><span class="toc-number">4.1.2.</span> <span class="toc-text">2.ssh配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-%E6%8C%87%E4%BB%A4"><span class="toc-number">4.2.</span> <span class="toc-text">git 指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">4.2.1.</span> <span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#commit%E8%A7%84%E8%8C%83"><span class="toc-number">4.2.2.</span> <span class="toc-text">commit规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">4.2.3.</span> <span class="toc-text">本地分支的操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">4.2.4.</span> <span class="toc-text">远程分支的操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">4.2.5.</span> <span class="toc-text">合并分支的操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">4.2.6.</span> <span class="toc-text">查看信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E9%80%80%E7%B3%BB%E5%88%97"><span class="toc-number">4.2.7.</span> <span class="toc-text">回退系列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">4.2.8.</span> <span class="toc-text">文件的操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-stash"><span class="toc-number">4.2.9.</span> <span class="toc-text">git stash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-rebase"><span class="toc-number">4.2.10.</span> <span class="toc-text">git rebase</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tips-1"><span class="toc-number">4.3.</span> <span class="toc-text">Tips</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#axios"><span class="toc-number">4.3.1.</span> <span class="toc-text">axios</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">4.4.</span> <span class="toc-text">命令</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/11/13/hello-world/" title="Hello World"><img src="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2021/11/13/hello-world/" title="Hello World">Hello World</a><time datetime="2021-11-13T03:27:06.625Z" title="发表于 2021-11-13 11:27:06">2021-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/09/25/node/" title="node"><img src="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="node"/></a><div class="content"><a class="title" href="/2020/09/25/node/" title="node">node</a><time datetime="2020-09-24T16:00:00.000Z" title="发表于 2020-09-25 00:00:00">2020-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/09/25/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" title="代码片段"><img src="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="代码片段"/></a><div class="content"><a class="title" href="/2020/09/25/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" title="代码片段">代码片段</a><time datetime="2020-09-24T16:00:00.000Z" title="发表于 2020-09-25 00:00:00">2020-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/09/25/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="正则表达式"><img src="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="正则表达式"/></a><div class="content"><a class="title" href="/2020/09/25/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="正则表达式">正则表达式</a><time datetime="2020-09-24T16:00:00.000Z" title="发表于 2020-09-25 00:00:00">2020-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/09/25/learn-tip/" title="散装的学习笔记"><img src="https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="散装的学习笔记"/></a><div class="content"><a class="title" href="/2020/09/25/learn-tip/" title="散装的学习笔记">散装的学习笔记</a><time datetime="2020-09-24T16:00:00.000Z" title="发表于 2020-09-25 00:00:00">2020-09-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://i0.hippopx.com/photos/457/88/1021/microphone-boy-studio-screaming-preview.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021  <i id="heartbeat" class="fa fas fa-heartbeat"></i> LMTomorrow</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">因为热爱，所以专注</div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '6bfdb22315df9b919429',
      clientSecret: '80fa5ba42986f3960283146c3faf03bc34beb4ab',
      repo: 'TomorrowLM.github.io',
      owner: 'TomorrowLM',
      admin: ['TomorrowLM'],
      id: '340720882ed1f94f707d8c7f5c03a0bb',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><div class="aplayer no-destroy" data-id="4929980436" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div><script src="/js/custom.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && location.pathname =='/'){
    
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms"></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载swiper')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script>
<script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.js"></script>
<script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper@0.18/swiper/swiperindex.js"></script>
<style></style><script data-pjax>function electric_clock_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img id="card-clock-loading" src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading" class="entered loading"></div></div></div></div></div>';
                console.log('已挂载electric_clock')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='all'|| 'all' ==='all')){

            electric_clock_injector_config()
        } </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax  src="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
                        function gitcalendar_injector_config(){
                          var parent_div_git = document.getElementsByClassName('recent-posts')[0];
                          var item_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
                          parent_div_git.insertAdjacentHTML("afterbegin",item_html)
                          console.log('已挂载gitcalendar')
                          }

                        if( document.getElementsByClassName('recent-posts')[0] && (location.pathname ==='/'|| '/' ==='all')){
                            gitcalendar_injector_config()
                            GitCalendarInit("https://gitcalendar.akilar.top/api?Akilarlxh",['#e4dfd7', '#f9f4dc', '#f7e8aa', '#f7e8aa', '#f8df72', '#fcd217', '#fcc515', '#f28e16', '#fb8b05', '#d85916', '#f43e06'],'Akilarlxh')
                        }
                      </script><!-- hexo injector body_end end --></body></html>